{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Predixo/app/api/predict/route.js"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\n\r\nexport async function POST(req) {\r\n    try {\r\n        const { keyword } = await req.json();\r\n\r\n        if (!process.env.GROQ_API_KEY) {\r\n            return NextResponse.json(\r\n                { error: \"Missing GROQ_API_KEY\" },\r\n                { status: 500 }\r\n            );\r\n        }\r\n\r\n        const groqResponse = await fetch(\r\n            \"https://api.groq.com/openai/v1/chat/completions\",\r\n            {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Authorization\": `Bearer ${process.env.GROQ_API_KEY}`,\r\n                },\r\n                body: JSON.stringify({\r\n                    model: \"llama-3.1-8b-instant\", // âœ… Current working free model\r\n                    messages: [\r\n                        { role: \"system\", content: \"You are Predixo, an AI forecasting assistant.\" },\r\n                        { role: \"user\", content: `Predict upcoming trend for: ${keyword}` },\r\n                    ],\r\n                }),\r\n            }\r\n        );\r\n\r\n        const result = await groqResponse.json();\r\n\r\n        if (!groqResponse.ok) {\r\n            console.log(\"GROQ API ERROR:\", result);\r\n            return NextResponse.json({ error: result }, { status: 500 });\r\n        }\r\n\r\n        return NextResponse.json({\r\n            prediction: result.choices?.[0]?.message?.content || \"No response\",\r\n        });\r\n\r\n    } catch (error) {\r\n        console.error(\"SERVER ERROR:\", error);\r\n        return NextResponse.json(\r\n            { error: error.message || \"Unknown server error\" },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,KAAK,GAAG;IAC1B,IAAI;QACA,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,IAAI,IAAI;QAElC,IAAI,CAAC,QAAQ,GAAG,CAAC,YAAY,EAAE;YAC3B,OAAO,gJAAY,CAAC,IAAI,CACpB;gBAAE,OAAO;YAAuB,GAChC;gBAAE,QAAQ;YAAI;QAEtB;QAEA,MAAM,eAAe,MAAM,MACvB,mDACA;YACI,QAAQ;YACR,SAAS;gBACL,gBAAgB;gBAChB,iBAAiB,CAAC,OAAO,EAAE,QAAQ,GAAG,CAAC,YAAY,EAAE;YACzD;YACA,MAAM,KAAK,SAAS,CAAC;gBACjB,OAAO;gBACP,UAAU;oBACN;wBAAE,MAAM;wBAAU,SAAS;oBAAgD;oBAC3E;wBAAE,MAAM;wBAAQ,SAAS,CAAC,4BAA4B,EAAE,SAAS;oBAAC;iBACrE;YACL;QACJ;QAGJ,MAAM,SAAS,MAAM,aAAa,IAAI;QAEtC,IAAI,CAAC,aAAa,EAAE,EAAE;YAClB,QAAQ,GAAG,CAAC,mBAAmB;YAC/B,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAO,GAAG;gBAAE,QAAQ;YAAI;QAC9D;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YACrB,YAAY,OAAO,OAAO,EAAE,CAAC,EAAE,EAAE,SAAS,WAAW;QACzD;IAEJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,iBAAiB;QAC/B,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,OAAO,MAAM,OAAO,IAAI;QAAuB,GACjD;YAAE,QAAQ;QAAI;IAEtB;AACJ"}}]
}